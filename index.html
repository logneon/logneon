<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOGNEON - DYNAMIC YOUTUBE CHAOS - REAL-TIME TECH CONTENT</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LOADING INDICATOR -->
    <div class="loading-chaos" id="loading-indicator">
        <div class="loading-spinner"></div>
        <div class="loading-text">LOADING LOGNEON CHAOS...</div>
        <div class="loading-status" id="loading-status">Connecting to YouTube data...</div>
    </div>

    <!-- PARTICLE CHAOS CANVAS -->
    <canvas id="chaos-canvas"></canvas>
    
    <!-- DIGITAL GLITCH MATRIX -->
    <div class="glitch-matrix"></div>
    
    <!-- MOUSE TRAIL DESTRUCTION -->
    <div class="mouse-destruction-trail"></div>
    
    <!-- VIDEO MODAL SYSTEM -->
    <div class="video-modal" id="video-modal" style="display: none;">
        <div class="modal-backdrop" onclick="closeVideoModal()"></div>
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title" id="modal-title">LOADING TECH CHAOS...</div>
                <button class="modal-close" onclick="closeVideoModal()">‚úï</button>
            </div>
            <div class="modal-video-container">
                <iframe id="video-iframe" 
                        width="100%" 
                        height="100%" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                </iframe>
            </div>
            <div class="modal-info">
                <div class="modal-views" id="modal-views"></div>
                <div class="modal-description" id="modal-description"></div>
            </div>
        </div>
    </div>
    
    <!-- NAVIGATION CHAOS -->
    <nav class="brutal-nav" id="brutal-nav">
        <div class="logo-chaos-container">
            <div class="logo-brutalism">
                <span class="logo-text glitch-text" data-text="LOGNEON">LOGNEON</span>
                <div class="logo-subtext">EXPLORE SOMETHING NEW HERE</div>
                <div class="subscriber-chaos" id="subscriber-count">168 REBELS</div>
            </div>
        </div>
        
        <div class="nav-destruction-objects">
            <div class="nav-brutal-object" data-section="latest" data-label="üì∫ LATEST CHAOS">
                <div class="object-neon-core">üì∫</div>
                <div class="object-particle-storm"></div>
            </div>
            <div class="nav-brutal-object" data-section="popular" data-label="üî• VIRAL HITS">
                <div class="object-neon-core">üî•</div>
                <div class="object-particle-storm"></div>
            </div>
            <div class="nav-brutal-object" data-section="shorts" data-label="‚ö° SHORTS">
                <div class="object-neon-core">‚ö°</div>
                <div class="object-particle-storm"></div>
            </div>
            <div class="nav-brutal-object" onclick="window.open('https://www.youtube.com/@logneon', '_blank')" data-label="üî¥ SUBSCRIBE">
                <div class="object-neon-core">üî¥</div>
                <div class="object-particle-storm"></div>
            </div>
        </div>
    </nav>
    
    <!-- HERO SECTION WITH DYNAMIC STATS -->
    <section class="hero-tech-chaos" id="hero">
        <div class="hero-background-matrix">
            <div class="matrix-rain"></div>
        </div>
        
        <div class="hero-content-destruction">
            <h1 class="hero-title-extreme">
                <span class="title-line-1">DYNAMIC</span>
                <span class="title-line-2">YOUTUBE</span>
                <span class="title-line-3">CHAOS</span>
            </h1>
            
            <div class="hero-stats-brutal">
                <div class="stat-brutal-card">
                    <span class="stat-number-chaos" id="total-videos">39</span>
                    <span class="stat-label-destruction">TOTAL VIDEOS</span>
                </div>
                <div class="stat-brutal-card">
                    <span class="stat-number-chaos" id="subscriber-stat">168</span>
                    <span class="stat-label-destruction">SUBSCRIBERS</span>
                </div>
                <div class="stat-brutal-card">
                    <span class="stat-number-chaos" id="max-views">18K</span>
                    <span class="stat-label-destruction">MAX VIEWS</span>
                </div>
            </div>
            
            <div class="last-updated" id="last-updated">
                Last updated: Loading...
            </div>
        </div>
    </section>
    
    <!-- LATEST VIDEOS SECTION -->
    <section class="latest-videos-section" id="latest">
        <div class="section-header-brutal">
            <h2 class="section-title-chaos">LATEST CHAOS</h2>
            <div class="video-count-brutal" id="latest-count">Loading videos...</div>
        </div>
        
        <div class="videos-grid-chaos" id="videos-grid">
            <!-- Dynamic content loads here -->
        </div>
    </section>
    
    <!-- POPULAR VIDEOS SECTION -->
    <section class="popular-videos-section" id="popular">
        <div class="section-header-brutal">
            <h2 class="section-title-chaos">VIRAL HITS</h2>
            <div class="video-count-brutal" id="popular-count">Loading popular videos...</div>
        </div>
        
        <div class="videos-grid-chaos" id="popular-grid">
            <!-- Dynamic popular content loads here -->
        </div>
    </section>
    
    <!-- YOUTUBE SHORTS SECTION -->
    <section class="shorts-section" id="shorts">
        <div class="section-header-brutal">
            <h2 class="section-title-chaos">SHORTS DESTRUCTION</h2>
            <div class="shorts-subtitle" id="shorts-count">Loading shorts...</div>
        </div>
        
        <div class="shorts-grid-chaos" id="shorts-grid">
            <!-- Dynamic shorts content loads here -->
        </div>
    </section>
    
    <!-- ERROR STATE -->
    <section class="error-section" id="error-section" style="display: none;">
        <div class="error-content">
            <h2 class="error-title">‚ö†Ô∏è DATA LOADING CHAOS</h2>
            <p class="error-message">Failed to load dynamic content. Using fallback data.</p>
            <button class="error-retry" onclick="loadYouTubeData()">üîÑ RETRY LOADING</button>
            <a href="https://www.youtube.com/@logneon" target="_blank" class="error-youtube">
                üî¥ Visit YouTube Channel
            </a>
        </div>
    </section>
    
    <!-- SUBSCRIBE CHAOS SECTION -->
    <section class="subscribe-section">
        <div class="subscribe-content-brutal">
            <h2 class="subscribe-title-chaos">JOIN THE TECH REBELLION</h2>
            <div class="subscribe-stats">
                <div class="stat-item">
                    <span class="stat-number" id="sub-count-display">168</span>
                    <span class="stat-label">REBELS</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="video-count-display">39</span>
                    <span class="stat-label">VIDEOS</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number" id="view-count-display">70K</span>
                    <span class="stat-label">TOTAL VIEWS</span>
                </div>
            </div>
            <div class="subscribe-buttons">
                <button class="subscribe-btn-brutal" onclick="window.open('https://www.youtube.com/@logneon', '_blank')">
                    üî¥ SUBSCRIBE ON YOUTUBE
                </button>
                <button class="bell-btn-brutal" onclick="window.open('https://www.youtube.com/@logneon', '_blank')">
                    üîî ENABLE NOTIFICATIONS
                </button>
            </div>
        </div>
    </section>

    <!-- JAVASCRIPT -->
    <script>
        // DYNAMIC YOUTUBE DATA LOADER
        let youtubeData = {
            videos: [],
            shorts: [],
            stats: {}
        };

        // Load all YouTube data on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üî• LOGNEON Dynamic Loading Initiated');
            initializeChaosEffects();
            loadYouTubeData();
        });

        // Main function to load YouTube data
        async function loadYouTubeData() {
            updateLoadingStatus('Loading YouTube data...');
            
            try {
                // Load all JSON files
                const [videosResponse, shortsResponse, statsResponse] = await Promise.all([
                    fetch('./data/youtube-videos.json').catch(() => ({ ok: false })),
                    fetch('./data/youtube-shorts.json').catch(() => ({ ok: false })),
                    fetch('./data/youtube-stats.json').catch(() => ({ ok: false }))
                ]);

                // Parse responses
                if (videosResponse.ok) {
                    const videosData = await videosResponse.json();
                    youtubeData.videos = videosData.videos || videosData || [];
                    console.log(`‚úÖ Loaded ${youtubeData.videos.length} videos`);
                }

                if (shortsResponse.ok) {
                    const shortsData = await shortsResponse.json();
                    youtubeData.shorts = shortsData.shorts || shortsData || [];
                    console.log(`‚úÖ Loaded ${youtubeData.shorts.length} shorts`);
                }

                if (statsResponse.ok) {
                    youtubeData.stats = await statsResponse.json();
                    console.log('‚úÖ Loaded channel stats');
                }

                // Render content
                renderAllContent();
                hideLoading();

            } catch (error) {
                console.error('‚ùå Error loading YouTube data:', error);
                showErrorState();
                loadFallbackData();
            }
        }

        // Render all content sections
        function renderAllContent() {
            updateChannelStats();
            renderLatestVideos();
            renderPopularVideos();
            renderShorts();
            updateLastUpdated();
        }

        // Update channel statistics
        function updateChannelStats() {
            const stats = youtubeData.stats;
            
            if (stats.subscriberCount) {
                document.getElementById('subscriber-count').textContent = `${stats.subscriberCount} REBELS`;
                document.getElementById('subscriber-stat').textContent = stats.subscriberCount;
                document.getElementById('sub-count-display').textContent = stats.subscriberCount;
            }
            
            if (stats.videoCount) {
                document.getElementById('total-videos').textContent = stats.videoCount;
                document.getElementById('video-count-display').textContent = stats.videoCount;
            }
            
            if (stats.viewCount) {
                document.getElementById('view-count-display').textContent = formatViews(stats.viewCount);
            }

            // Calculate max views from videos
            if (youtubeData.videos.length > 0) {
                const maxViews = Math.max(...youtubeData.videos.map(v => v.viewCount || 0));
                document.getElementById('max-views').textContent = formatViews(maxViews);
            }
        }

        // Render latest videos
        function renderLatestVideos() {
            const videosGrid = document.getElementById('videos-grid');
            const latestCount = document.getElementById('latest-count');
            
            if (youtubeData.videos.length === 0) {
                videosGrid.innerHTML = '<div class="no-content">No videos available</div>';
                latestCount.textContent = '0 videos loaded';
                return;
            }

            // Sort by date (newest first)
            const sortedVideos = [...youtubeData.videos].sort((a, b) => 
                new Date(b.publishedAt) - new Date(a.publishedAt)
            );

            latestCount.textContent = `${sortedVideos.length} TECH DESTRUCTION VIDEOS`;
            
            videosGrid.innerHTML = '';
            sortedVideos.forEach((video, index) => {
                const videoCard = createVideoCard(video, index);
                videosGrid.appendChild(videoCard);
            });
        }

        // Render popular videos (sorted by views)
        function renderPopularVideos() {
            const popularGrid = document.getElementById('popular-grid');
            const popularCount = document.getElementById('popular-count');
            
            if (youtubeData.videos.length === 0) {
                popularGrid.innerHTML = '<div class="no-content">No popular videos available</div>';
                return;
            }

            // Sort by view count (highest first)
            const popularVideos = [...youtubeData.videos]
                .sort((a, b) => (b.viewCount || 0) - (a.viewCount || 0))
                .slice(0, 6); // Top 6 popular videos

            popularCount.textContent = `${popularVideos.length} VIRAL DESTRUCTION VIDEOS`;
            
            popularGrid.innerHTML = '';
            popularVideos.forEach((video, index) => {
                const videoCard = createVideoCard(video, index, true);
                popularGrid.appendChild(videoCard);
            });
        }

        // Render YouTube Shorts
        function renderShorts() {
            const shortsGrid = document.getElementById('shorts-grid');
            const shortsCount = document.getElementById('shorts-count');
            
            if (youtubeData.shorts.length === 0) {
                shortsGrid.innerHTML = '<div class="no-content">No shorts available</div>';
                shortsCount.textContent = '0 shorts loaded';
                return;
            }

            shortsCount.textContent = `${youtubeData.shorts.length} QUICK TECH CHAOS`;
            
            shortsGrid.innerHTML = '';
            youtubeData.shorts.forEach((short, index) => {
                const shortCard = createShortCard(short, index);
                shortsGrid.appendChild(shortCard);
            });
        }

        // Create video card element
        function createVideoCard(video, index, isPopular = false) {
            const card = document.createElement('div');
            card.className = `video-card-brutal ${isPopular ? 'popular' : ''}`;
            
            const chaosLevel = getChaosLevel(video.viewCount || 0);
            const isViral = (video.viewCount || 0) > 5000;
            
            card.innerHTML = `
                <div class="video-thumbnail-chaos">
                    <img src="${video.thumbnail || 'https://i.ytimg.com/vi/' + video.id + '/maxresdefault.jpg'}" 
                         alt="${video.title}" class="thumbnail-img" loading="lazy">
                    <div class="play-button-destruction">‚ñ∂</div>
                    <div class="chaos-level-indicator ${chaosLevel.class}">${chaosLevel.text}</div>
                    ${isViral ? '<div class="viral-badge">VIRAL HIT!</div>' : ''}
                </div>
                <div class="video-info-brutal">
                    <h3 class="video-title-chaos">${truncateTitle(video.title || 'Unknown Video')}</h3>
                    <div class="video-stats-destruction">
                        <span class="views-chaos">${formatViews(video.viewCount || 0)} views</span>
                        <span class="date-chaos">${formatDate(video.publishedAt)}</span>
                    </div>
                    <div class="video-category-tag ${video.category || 'general'}">${(video.category || 'GENERAL').toUpperCase()}</div>
                </div>
            `;
            
            // Add click handler
            card.addEventListener('click', () => {
                openVideoModal(video);
            });
            
            // Animation delay
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0) scale(1)';
            }, index * 100);
            
            return card;
        }

        // Create short card element
        function createShortCard(short, index) {
            const card = document.createElement('div');
            card.className = 'short-card-brutal';
            
            const isViral = (short.viewCount || 0) > 1000;
            
            card.innerHTML = `
                <div class="short-thumbnail-chaos">
                    <img src="${short.thumbnail || 'https://i.ytimg.com/vi/' + short.id + '/maxresdefault.jpg'}" 
                         alt="${short.title}" class="thumbnail-img" loading="lazy">
                    <div class="play-button-destruction">‚ñ∂</div>
                    <div class="short-badge">SHORT</div>
                    ${isViral ? '<div class="viral-badge">VIRAL!</div>' : ''}
                </div>
                <div class="short-info">
                    <h4>${truncateTitle(short.title || 'Unknown Short', 30)}</h4>
                    <span class="short-views">${formatViews(short.viewCount || 0)} views</span>
                </div>
            `;
            
            card.addEventListener('click', () => {
                openVideoModal(short);
            });
            
            return card;
        }

        // Open video in modal
        function openVideoModal(video) {
            const modal = document.getElementById('video-modal');
            const iframe = document.getElementById('video-iframe');
            const title = document.getElementById('modal-title');
            const views = document.getElementById('modal-views');
            const description = document.getElementById('modal-description');
            
            title.textContent = video.title || 'Unknown Video';
            views.textContent = `${formatViews(video.viewCount || 0)} views ‚Ä¢ ${formatDate(video.publishedAt)}`;
            description.textContent = video.description || 'No description available.';
            
            // Set YouTube embed URL
            const embedUrl = video.embedUrl || `https://www.youtube.com/embed/${video.id}?autoplay=1&rel=0`;
            iframe.src = embedUrl;
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            console.log(`üé¨ Opening video: ${video.title}`);
        }

        // Close video modal
        function closeVideoModal() {
            const modal = document.getElementById('video-modal');
            const iframe = document.getElementById('video-iframe');
            
            iframe.src = '';
            modal.style.display = 'none';
            document.body.style.overflow = '';
            
            console.log('‚ùå Closed video modal');
        }

        // Utility functions
        function formatViews(count) {
            if (count >= 1000000) return Math.floor(count / 100000) / 10 + 'M';
            if (count >= 1000) return Math.floor(count / 100) / 10 + 'K';
            return count.toString();
        }

        function formatDate(dateString) {
            if (!dateString) return 'Unknown date';
            
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) return '1 day ago';
            if (diffDays < 30) return `${diffDays} days ago`;
            if (diffDays < 60) return '1 month ago';
            if (diffDays < 365) return `${Math.floor(diffDays / 30)} months ago`;
            return `${Math.floor(diffDays / 365)} years ago`;
        }

        function truncateTitle(title, maxLength = 50) {
            return title.length > maxLength ? title.substring(0, maxLength) + '...' : title;
        }

        function getChaosLevel(viewCount) {
            if (viewCount >= 15000) return { class: 'legendary', text: 'LEGENDARY' };
            if (viewCount >= 10000) return { class: 'viral', text: 'VIRAL' };
            if (viewCount >= 5000) return { class: 'advanced', text: 'ADVANCED' };
            if (viewCount >= 1000) return { class: 'technical', text: 'TECHNICAL' };
            if (viewCount >= 500) return { class: 'professional', text: 'PROFESSIONAL' };
            return { class: 'experimental', text: 'EXPERIMENTAL' };
        }

        function updateLastUpdated() {
            const lastUpdated = document.getElementById('last-updated');
            if (youtubeData.stats.lastUpdated) {
                const date = new Date(youtubeData.stats.lastUpdated);
                lastUpdated.textContent = `Last updated: ${date.toLocaleDateString()} ${date.toLocaleTimeString()}`;
            } else {
                lastUpdated.textContent = 'Last updated: Unknown';
            }
        }

        function updateLoadingStatus(status) {
            const statusElement = document.getElementById('loading-status');
            if (statusElement) {
                statusElement.textContent = status;
            }
        }

        function hideLoading() {
            const loading = document.getElementById('loading-indicator');
            if (loading) {
                loading.style.display = 'none';
            }
        }

        function showErrorState() {
            const errorSection = document.getElementById('error-section');
            if (errorSection) {
                errorSection.style.display = 'block';
            }
        }

        function loadFallbackData() {
            // Fallback data if JSON files fail to load
            youtubeData = {
                videos: [
                    {
                        id: 'fallback-1',
                        title: 'LOGNEON Tech Channel - Subscribe for Latest Content!',
                        viewCount: 0,
                        publishedAt: new Date().toISOString(),
                        category: 'general',
                        youtubeUrl: 'https://www.youtube.com/@logneon'
                    }
                ],
                shorts: [],
                stats: {
                    subscriberCount: 168,
                    videoCount: 39,
                    viewCount: 70000
                }
            };
            
            renderAllContent();
            hideLoading();
        }

        // Initialize chaos effects (placeholder for visual effects)
        function initializeChaosEffects() {
            console.log('üéÜ Initializing chaos effects...');
            // Add your particle systems, glitch effects, etc. here
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeVideoModal();
            } else if (e.key === 'r' || e.key === 'R') {
                if (e.ctrlKey) {
                    e.preventDefault();
                    loadYouTubeData();
                }
            }
        });

        // Navigation handlers
        document.querySelectorAll('.nav-brutal-object').forEach(obj => {
            obj.addEventListener('click', function() {
                const section = this.dataset.section;
                if (section) {
                    const target = document.getElementById(section);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });
    </script>
</body>
</html>
